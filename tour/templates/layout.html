{% load static %}
{% load account %}
{% load socialaccount %}

<!DOCTYPE html>
<html lang="en">
<head>
  <title>{% block title %} Torupin {% endblock %}</title>
  
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap4 CSS-->
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-grid.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-grid.min.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-reboot.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-reboot.min.css' %}">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


  {% block style %} 
  {% endblock %}

</head>
<body>
  <!-- 로그인을 하지 않았을 경우 -->
  {% if not user.is_authenticated  %}
    <header class="header fixed-top">
      <nav class="navbar navbar-toggleable-md navbar-light bg-sambemi">
        <ul class="navbar-nav mr-auto">
          </ul>
            <div class="dropdown">
              <button class="header__button navbar-white btn py-lg-0 py-md-1 py-sm-0 mr-3 mb-1" type="button" id="dropdownMenuButton" data-toggle="modal" data-target="#loginModal">
                      LOG IN
                  </button>
                  <button class="header__button navbar-white py-lg-0 py-md-1 py-sm-0 mr-3" type="button" id="dropdownMenuButton" >
                      <a href="{% url 'joinus' %}">JOIN US</a>
                  </button>
              </div>
          </nav>
      </header>
  <!-- 로그인을 했을 경우 -->
  {% else %}
    <header class="header fixed-top">
          <nav class="navbar navbar-toggleable-md navbar-light bg-sambemi">
              <a class="navbar-brand navbar-white" href="/">PILOT</a>
              <ul class="navbar-nav mr-auto">
                  <li class="nav-item active">
                      <a class="nav-link navbar-white px-0 py-1 mr-3" href="#">{% user_display user %}여행자님<span class="sr-only">(여행자님 어서오세요! 현재 계급은 파일럿 입니다!)</span></a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link navbar-white px-0 py-1 mr-3" href="#">여행중</a>
                  </li>
              </ul>
              <a class="nav-link navbar-white px-0 py-1 mr-3" href="#"><i class="fa fa-bolt"></i></a>
              <div class="dropdown">
                  <button class="header__button navbar-white px-0 py-lg-0 py-md-1 py-sm-0 mr-3" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      MENU <i class="fa fa-bars"></i>
                  </button>
                  <div class="dropdown-menu nav-m mr-auto" aria-labelledby="dropdownMenuButton">
                      <ul class="py-0">
                          <li><a class="dropdown-item" href="{% url 'index' %}">main</a></li>
                          <li><a class="dropdown-item" href="{% url 'news:news_list' %}">newspeed</a></li>
                          <li><a class="dropdown-item" href="{% url 'group:group_index' %}">tourship</a></li>
                          <li><a class="dropdown-item" href="{% url 'setup_auth' %}">set-up</a></li>
                          <li><a class="dropdown-item" href="{% url 'logout' %}">logout</a></li>
                      </ul>
                  </div>
              </div>
          </nav>
      </header>
  {% endif %}

  {% block content %}
  {% endblock %}

    <!-- login 모달 -->
  {% block login_modal %}
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title login_logo pl-3" id="exampleModalLabel">TOURPIN</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form method="post">
              {% csrf_token %}
              {{form.non_field_errors}}
              <div class="form-group mb-0 pb-2">
                <label class="form-control-label login" for="{{ form.username.id_for_label }}">Email</label>
                {{ form.username }}
                {% for error in form.username.errors %}
                  <p>{{ error }}</p>  
                {% endfor %}
              </div>
              <div class="form-group mb-0 pb-1">
                <label class="form-control-label login" for="{{ form.password.id_for_label }}">PW</label>
                {{ form.password }}

                {% for error in form.password.errors %}
                  <p>{{ error }}</p>  
                {% endfor %}

              </div>
              <div class="form-check ml-3 mr-sm-2 mb-sm-0 pb-4">
                <label class="form-check-label">
                  <input class="form-check-input " type="checkbox"> 아이디를 기억하시겠습니까?
                </label>
              </div>
              <div class="form-check ml-3 mr-sm-2 mb-sm-0 pb-4">
                <ul>
                {% for provider in providers %}
                  <li>
                  {% if provider.social_app %}
                    <a href="{% provider_login_url provider.id %}">
                      {{ provider.name }}
                    </a>
                  {% else %}
                    <a>
                      Provider {{provider.name }}설정이 필요합니다.
                    </a>
                  {% endif %}
                {% endfor %}
                </ul>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="log_bt btn-secondary"><a href="{% url 'joinus' %}">Join us</a></button>
            <button type="submit" class="log_bt btn-primary login-ajax">Login</button>
          </div>
          </form>
        </div>
      </div>
    </div>
  {% endblock login_modal %}
    <!--// login 모달 끝 -->

    <!-- index 페이지 모달들 -->
  {% block index_modal %}
    <div class="modal fade" id="add_memory" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">New message</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              <p> {{ form.non_field_errors }}</p>
              <div class="form-group row mb-0">
                <label for="{{ form.country.id_for_label }} {{ form.local.id_for_label }} {{ form.address.id_for_label }}" class="col-3 col-form-label pr-0">여행지역</label>
                <div class="form-group mr-2">
                  <div class="col-10">
                  {{ form.country }}
                  </div>
                </div>
                <div class="form-group mr-2">
                  <div class="col-10">
                    {{ form.local }}
                  </div>
                </div>
                <div class="form-group row">
                  <div class="col-10">
                    {{ form.address }}
                  </div>
                </div>
              </div>
              {% for error in form.country.errors %}
                <p>{{ error }}</p>
              {% endfor %}
              {% for error in form.local.errors %}
                <p>{{ error }}</p>
              {% endfor %}
              {% for error in form.address.errors %}
                <p>{{ error }}</p>
              {% endfor %}
              <div class="form-group row">
                <label for="{{ form.tourdate.id_for_label }}" class="col-3 col-form-label pr-0">여행날짜</label>
                <div class="col-8 pl-0">
                  {{ form.tourdate }}
                </div>
              </div>
              <div class="form-group row">
                <label for="{{ form.title.id_for_label }}" class="col-3 col-form-label pr-0">제목</label>
                <div class="col-8 pl-0">
                  {{ form.title }}
                </div>
              </div>
              {% for error in form.title.errors %}
                <p>{{ error }}</p>
              {% endfor %}

              {% for error in form.tourdate.errors %}
                <p>{{ error }}</p>
              {% endfor %}
              <div class="memory_icon">
                <a class="fa fa-smile-o fa-2x" href="#"></a>
                <a class="fa fa-plus fa-2x" href="#"></a>
                {{ form.photo }}
              </div>
              {% for error in form.photo.errors %}
                <p>{{ error }}</p>
              {% endfor %}
              <div class="form-group">
                <label for="{{ form.content.id_for_label }}" class="col-3 col-form-label pr-0">내용</label>
                {{ form.content }}
              </div>
              {% for error in form.content.errors %}
                <p>{{ error }}</p>
              {% endfor %}
              <div class="form-group row mb-0">
                <label for="{{ form.privacy.id_for_label }}" class="col-3 col-form-label pr-0">공개설정</label>
                <div class="form-group mr-2">
                  {{ form.privacy }}
                </div>
                {% for error in form.privacy.errors %}
                  <p>{{ error }}</p>
                {% endfor %}
              </div>
              <!-- 여행자그룹 구현아직..
              <div class="form-group row mb-0">
                <label for="example-date-input" class="col-3 col-form-label pr-0">여행자그룹</label>
                <div class="form-group mr-2">
                  <select class="form-control" id="exampleSelect1">
                    <option>안함</option>
                    <option>자전거그룹</option>
                    <option>도보그룹</option>
                  </select>
                </div>
              </div>
              -->
          </div>
        <div class="modal-footer">
          <button type="submit" class="upload_bt">Upload</button>
          </form>
        </div>
      </div>
      </div>
      </div>
<!-- 추억추가 modal 끝 -->

<!-- 추억삭제 modal 시작-->
    <div class="modal fade" id="del_memory" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">추억 삭제</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group row mb-0">
                <label for="example-date-input" class="col-3 col-form-label pr-0">여행지역</label>
                <div class="form-group mr-2">
                  <select class="form-control" id="exampleSelect1" name="country">
                    <option disabled selected="selected" class="bg-faded">나라</option>
                    <option value="1">한국</option>
                    <option value="2">중국</option>
                    <option value="3">뭐뭐</option>
                    <option value="4">뭐뭐뭐</option>
                  </select>
                </div>
                <div class="form-group mr-2">
                  <select class="form-control" id="exampleSelect1" name="local">
                    <option disabled selected="selected" class="bg-faded">지역</option>
                    <option value="1">경기</option>
                    <option value="2">서울</option>
                    <option value="3">중국</option>
                    <option value="4">~~</option>
                  </select>
                </div>
            </div>
            <div class="list">
              <h5>목록</h5>
              <ul class="list pl-0" data-toggle="buttons">
                {% for post in post_list  %}
                  <li class="list_ck btn btn-primary mb-1">
                   <input type="checkbox" autocomplete="off"> 추억{{post.id}} 제목:{{post.title}}
                  </li>
                {% endfor %}
              </ul>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="del_bt fa fa-trash-o fa-2x"></button>
          </div>
          </div>
        </div>
      </div>
      <!--// 추억 삭제 모달 끝 -->
<!--내핀 클릭시 내용보기 및 수정-->
  <div class="modal fade click_mypin" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-body">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner" role="listbox">
              <div class="carousel-item active">
                <div class="d-block left col-6">
                  <div class="form-group row">
                    <label for="input-area" class="col-2 col-form-label">지역</label>
                    <div class="col-10">
                      <input disabled class="form-control" type="text" value="강원도 원주시 우산동" id="example-text-input">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="input-date" class="col-2 col-form-label ">날짜</label>
                    <div class="col-10">
                      <input disabled class="form-control" type="text" value="2017.7.5" id="example-text-input">
                    </div>
                  </div>
                  <div class="form-group">
                    <textarea disabled class="form-control textarea" id="exampleTextarea" placeholder="오늘은 부리도를 먹었다. 역시 도스마스의 부리또가 제일 맛있다. 모짜렐라부리또 짱!" rows="3"></textarea>
                  </div>
                  <div class="mb-3">
                    <ul class="list-group">
                      <li class="list-group-item">부럽다!</li>
                      <li class="list-group-item">나도먹고싶다!</li>
                      <li class="list-group-item">윽 부리또</li>
                      <li class="list-group-item">그만먹어!~!</li>
                    </ul>
                    <nav aria-label="Page navigation example">
                      <ul class="pagination justify-content-center mt-3">
                        <li class="page-item disabled">
                          <a class="page-link" href="#" tabindex="-1">Previous</a>
                        </li>
                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                          <a class="page-link" href="#">Next</a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                  <form>
                    <div class="form-group row ">
                      <div class="col-9">
                        <input class="form-control text" type="text" placeholder="댓글" id="example-text-input">
                      </div>
                      <button class="btn btn-primary ml-3 text_bt" type="submit">입력</button>
                    </div>
                  </form>
                  <div class="d-flex flex-row">
                    <div class="p-2">
                      <a href="#" class="fa  fa-pencil fa-2x icons"></a>
                    </div>
                    <div class="p-2">
                      <div class="btn-group dropup pb-3">
                        <a class="fa fa-share-alt icons fa-2x" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <span class="sr-only">Toggle Dropdown</span>
                        </a>
                        <div class="dropdown-menu mr-3 pl-1">
                          <ul class="pl-0">
                            <li><a href="#" class="twitter_l fa fa-twitter-square fa-3x"></a></li>
                            <li><a href="#" class="fa fa-facebook-square fa-3x"></a></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="p-2">
                       <a class="fa fa-trash-o fa-2x icons" href="#"></a>
                    </div>
                  </div>
                </div>
                <div class="right col-6">
                  <div class="card">
                    <img class="card-img-top" src="assets/img/JY.jpg" alt="Card image cap">
                    <div class="card-block">

                    </div>
                  </div>
                </div>
              </div>
              <div class="carousel-item">
                  <div class="d-block left col-6">
                  <div class="form-group row">
                    <label for="input-area" class="col-2 col-form-label">지역</label>
                    <div class="col-10">
                      <input disabled class="form-control" type="text" value="강원도 원주시 우산동" id="example-text-input">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="input-date" class="col-2 col-form-label ">날짜</label>
                    <div class="col-10">
                      <input disabled class="form-control" type="text" value="2017.7.5" id="example-text-input">
                    </div>
                  </div>
                  <div class="form-group">
                    <textarea disabled class="form-control textarea" id="exampleTextarea" placeholder="오늘은 부리도를 먹었다. 역시 도스마스의 부리또가 제일 맛있다. 모짜렐라부리또 짱!" rows="3"></textarea>
                  </div>
                  <div class="mb-3">
                    <ul class="list-group">
                      <li class="list-group-item">부럽다!</li>
                      <li class="list-group-item">나도먹고싶다!</li>
                      <li class="list-group-item">윽 부리또</li>
                      <li class="list-group-item">그만먹어!~!</li>
                    </ul>
                    <nav aria-label="Page navigation example">
                      <ul class="pagination justify-content-center mt-3">
                        <li class="page-item disabled">
                          <a class="page-link" href="#" tabindex="-1">Previous</a>
                        </li>
                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                          <a class="page-link" href="#">Next</a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                  <form>
                    <div class="form-group row ">
                      <div class="col-9">
                        <input class="form-control text" type="text" placeholder="댓글" id="example-text-input">
                      </div>
                      <button class="btn btn-primary ml-3 text_bt" type="submit">입력</button>
                    </div>
                  </form>
                  <div class="d-flex flex-row">
                    <div class="p-2">
                      <a href="#" class="fa  fa-pencil fa-2x icons"></a>
                    </div>
                    <div class="p-2">
                      <div class="btn-group dropup pb-3">
                        <a class="fa fa-share-alt icons fa-2x" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <span class="sr-only">Toggle Dropdown</span>
                        </a>
                        <div class="dropdown-menu mr-3 pl-1">
                          <ul class="pl-0">
                            <li><a href="#" class="twitter_l fa fa-twitter-square fa-3x"></a></li>
                            <li><a href="#" class="fa fa-facebook-square fa-3x"></a></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="p-2">
                       <a class="fa fa-trash-o fa-2x icons" href="#"></a>
                    </div>
                  </div>
                </div>
                <div class="right col-6">
                  <div class="card">
                    <img class="card-img-top" src="assets/img/JY.jpg" alt="Card image cap">
                    <div class="card-block">

                    </div>
                  </div>
                </div>
              </div>
              <div class="carousel-item">
                   <div class="d-block left col-6">
                  <div class="form-group row">
                    <label for="input-area" class="col-2 col-form-label">지역</label>
                    <div class="col-10">
                      <input disabled class="form-control" type="text" value="강원도 원주시 우산동" id="example-text-input">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="input-date" class="col-2 col-form-label ">날짜</label>
                    <div class="col-10">
                      <input disabled class="form-control" type="text" value="2017.7.5" id="example-text-input">
                    </div>
                  </div>
                  <div class="form-group">
                    <textarea disabled class="form-control textarea" id="exampleTextarea" placeholder="오늘은 부리도를 먹었다. 역시 도스마스의 부리또가 제일 맛있다. 모짜렐라부리또 짱!" rows="3"></textarea>
                  </div>
                  <div class="mb-3">
                    <ul class="list-group">
                      <li class="list-group-item">부럽다!</li>
                      <li class="list-group-item">나도먹고싶다!</li>
                      <li class="list-group-item">윽 부리또</li>
                      <li class="list-group-item">그만먹어!~!</li>
                    </ul>
                    <nav aria-label="Page navigation example">
                      <ul class="pagination justify-content-center mt-3">
                        <li class="page-item disabled">
                          <a class="page-link" href="#" tabindex="-1">Previous</a>
                        </li>
                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                          <a class="page-link" href="#">Next</a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                  <form>
                    <div class="form-group row ">
                      <div class="col-9">
                        <input class="form-control text" type="text" placeholder="댓글" id="example-text-input">
                      </div>
                      <button class="btn btn-primary ml-3 text_bt" type="submit">입력</button>
                    </div>
                  </form>
                  <div class="d-flex flex-row">
                    <div class="p-2">
                      <a href="#" class="fa  fa-pencil fa-2x icons"></a>
                    </div>
                    <div class="p-2">
                      <div class="btn-group dropup pb-3">
                        <a class="fa fa-share-alt icons fa-2x" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <span class="sr-only">Toggle Dropdown</span>
                        </a>
                        <div class="dropdown-menu mr-3 pl-1">
                          <ul class="pl-0">
                            <li><a href="#" class="twitter_l fa fa-twitter-square fa-3x"></a></li>
                            <li><a href="#" class="fa fa-facebook-square fa-3x"></a></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="p-2">
                       <a class="fa fa-trash-o fa-2x icons" href="#"></a>
                    </div>
                  </div>
                </div>
                <div class="right col-6">
                  <div class="card">
                    <img class="card-img-top" src="assets/img/JY.jpg" alt="Card image cap">
                    <div class="card-block">

                    </div>
                  </div>
                </div>
              </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

    {% endblock index_modal %}
    <!--// index 페이지 모달들 끝 -->

    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    {% block script %}
    {% endblock %}
  </body>
</html>